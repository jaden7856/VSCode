<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>3</title>
    <script type="text/javascript" src="../js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            $(".error").hide();
            $("#id").focus();
            //$("#sendMember").click(function(e){
            $("#sendMember").on("click", function(e){
                // 기본기능을 방지하기 위해 사용한다.
                e.preventDefault();
                // 유효성 검사
                let id = $("#id").val();
                let email = $("#email").val();
                let password = $("#password").val();
                let checkPassword = $("#checkPassword").val();
                
                if(id) {
                    $("#errorId").hide();
                }else {
                    $("#errorId").show();
                    $("#id").focus();
                    return;
                }

                if(email) {
                    $("#errorEmail").hide();
                }else {
                    $("#errorEmail").show();
                    $("#email").focus();
                    return;
                }

                if(password) {
                    $("#errorPassword").hide();
                }else {
                    $("#errorPassword").show();
                    $("#password").focus();
                    return;
                }

                if(checkPassword) {
                    $("#errorcheckPassword").hide();
                }else {
                    $("#errorcheckPassword").show();
                    $("#checkPassword").focus();
                    return;
                }

                if(password != checkPassword) {
                    $("#errorMissmatchPassword").show();
                    $("#checkPassword").val("");
                    $("#checkPassword").focus();
                    return;
                }else {
                    $("#errorMissmatchPassword").hide();
                    $("#errorcheckPassword").hide();
                }

                f.submit;
            });

        });
    </script>
    <style type="text/css">
        .error {
            color: red;
        }
    </style>
</head>

<body>
    <h3>jquery event</h3>
    <form action="save.html" method="post" name="f">
        <label for="id">아이디</label>
        <input type="text" name="id" id="id" placeholder="아이디">
        <span class="error" id='errorId'>아이디를 입력하세요.</span>
        <br>
        <label for="email">이메일</label>
        <input type="text" name="email" id='email' placeholder="이메일">
        <span class="error" id="errorEmail">이메일을 입력하세요</span>
        <br>
        <label for="password">비밀번호</label>
        <input type="password" name="password" id='password' placeholder="비밀번호">
        <span class="error" id="errorPassword">비밀번호를 입력하세요</span>
        <br>
        <label for="checkPassword">비밀번호 확인</label>
        <input type="password" name="checkPassword" id='checkPassword' placeholder="비밀번호 확인">
        <span class="error" id="errorcheckPassword">비밀번호를 확인을 입력하세요</span>
        <span class="error" id="errorMissmatchPassword">비밀번호가 일치하지 않습니다.</span>
        <br>
        <button type="submit" id="sendMember">회원가입</button>
        <button type="reset">취소</button>
    </form>
</body>

</html>